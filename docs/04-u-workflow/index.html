<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<title data-react-helmet="true">Workflow | Metrix++</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Workflow | Metrix++"><meta data-react-helmet="true" name="description" content="The workflow and application usecases are demonstrated using source code from the boost/interprocess library. Boost versions 1.52 and 1.54 are used and refered below as the &#x27;previous&#x27; version and the &#x27;current&#x27; version accordingly."><meta data-react-helmet="true" property="og:description" content="The workflow and application usecases are demonstrated using source code from the boost/interprocess library. Boost versions 1.52 and 1.54 are used and refered below as the &#x27;previous&#x27; version and the &#x27;current&#x27; version accordingly."><meta data-react-helmet="true" property="og:url" content="https://metrixplusplus.github.io//metrixplusplus/docs/04-u-workflow"><link data-react-helmet="true" rel="shortcut icon" href="/metrixplusplus/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://metrixplusplus.github.io//metrixplusplus/docs/04-u-workflow"><link rel="stylesheet" href="/metrixplusplus/styles.6dd5a546.css">
<link rel="preload" href="/metrixplusplus/styles.ea187cca.js" as="script">
<link rel="preload" href="/metrixplusplus/runtime~main.ba0657b0.js" as="script">
<link rel="preload" href="/metrixplusplus/main.32ed0d02.js" as="script">
<link rel="preload" href="/metrixplusplus/1.b641d0ab.js" as="script">
<link rel="preload" href="/metrixplusplus/2.ac5ff824.js" as="script">
<link rel="preload" href="/metrixplusplus/15.69d6c65e.js" as="script">
<link rel="preload" href="/metrixplusplus/16.7644ee7d.js" as="script">
<link rel="preload" href="/metrixplusplus/7a337f41.a31beb1c.js" as="script">
<link rel="preload" href="/metrixplusplus/17896441.2675a3cf.js" as="script">
<link rel="preload" href="/metrixplusplus/eb9c1144.271b9774.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/metrixplusplus/"><img class="navbar__logo" src="/metrixplusplus/img/favicon.png" alt="Metrix++"><strong class="navbar__title">Metrix++</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/metrixplusplus/"><img class="navbar__logo" src="/metrixplusplus/img/favicon.png" alt="Metrix++"><strong class="navbar__title">Metrix++</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Users Manual</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metrixplusplus/docs/01-u-overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metrixplusplus/docs/02-u-download-install">Download and install</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metrixplusplus/docs/03-u-getting-started">Getting started</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/metrixplusplus/docs/04-u-workflow">Workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metrixplusplus/docs/05-u-extending-tool">Extending the tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/metrixplusplus/docs/06-u-feeback-contribute">Feeback and contribute</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developers Manual</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/metrixplusplus/docs/01-d-file">For developers</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Workflow</h1></header><div class="markdown"><p>The workflow and application usecases are demonstrated using source code from the <a href="http://www.boost.org/doc/libs/1_54_0/doc/html/interprocess.html">boost/interprocess library</a>. Boost versions 1.52 and 1.54 are used and refered below as the &#x27;previous&#x27; version and the &#x27;current&#x27; version accordingly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="collect-data"></a>Collect data<a aria-hidden="true" tabindex="-1" class="hash-link" href="#collect-data" title="Direct link to heading">#</a></h2><p>The first step is to collect the data. The &#x27;collect&#x27; tool has got multiple options to enable various metrics plugins. Let&#x27;s collect the number of lines of code and cyclomatic complexity metrics for the previous (1.52.0 version) boost interprocess library. Assuming that 2 versions of boost library are unpacked in the current working directory:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> boost_1_52_0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> collect --std.code.lines.code --std.code.complexity.cyclomatic -- boost/interprocess</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/ </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># return back to working directory</span></div></div></div></div></div><p>The list of arguments after &#x27;--&#x27; enumerates the paths to read the source files. As a result of execution of this command, a file <strong>metrixpp.db</strong> will be written in the current working directory. It can be redefined using the <strong>--db-file</strong> option.</p><p>Metrix++ can compare code bases which reduces processing scope to the modified or new code. So, let&#x27;s collect the same data for the current (1.54.0 version) boost interprocess library.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> boost_1_54_0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> collect --std.code.lines.code --std.code.complexity.cyclomatic -- boost/interprocess --db-file-prev</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/boost_1_52_0/metrixpp.db</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/ </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># return back to working directory</span></div></div></div></div></div><p>The option <strong>--db-file-prev</strong> points to the file with the data collected in the previous step. So, eventually it executed iterative collection. It can speed up the exectuion significantly, depending on amount of changes between two version.</p><p>Check other options of the collect tool by executing:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> collect --help</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="view-data"></a>View data<a aria-hidden="true" tabindex="-1" class="hash-link" href="#view-data" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="summary-metrics-and-distribution-tablesgraphs"></a>Summary metrics and distribution tables/graphs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#summary-metrics-and-distribution-tablesgraphs" title="Direct link to heading">#</a></h3><p>It is time to look at the data files collected (step above). The command:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> view --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db</span></div></div></div></div></div><p>prints summary metrics, like minimum/maximum, and distribution/frequency tables:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Overall metrics for &#x27;std.code.complexity:cyclomatic&#x27; metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Average        : 0.652902698283</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum        : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum        : 37</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Total          : 1597.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Distribution   : 2446 regions in total (including 0 suppressed)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Metric value : Ratio : R-sum : Number of regions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 0 : 0.771 : 0.771 : 1886   |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 1 : 0.110 : 0.881 :  268   |||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 2 : 0.044 : 0.925 :  108   ||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 3 : 0.025 : 0.949 :   60   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 4 : 0.016 : 0.966 :   40   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 5 : 0.007 : 0.973 :   18   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 6 : 0.006 : 0.979 :   14   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 7 : 0.004 : 0.983 :   10   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 8 : 0.003 : 0.986 :    8   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 9 : 0.002 : 0.988 :    4   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                10 : 0.004 : 0.991 :    9   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                11 : 0.002 : 0.993 :    4   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                12 : 0.001 : 0.994 :    3   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                13 : 0.001 : 0.995 :    2   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                14 : 0.001 : 0.996 :    2   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             15-16 : 0.001 : 0.997 :    3   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             17-18 : 0.001 : 0.998 :    3   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                20 : 0.000 : 0.999 :    1   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             23-25 : 0.001 : 1.000 :    2   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                37 : 0.000 : 1.000 :    1   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Overall metrics for &#x27;std.code.lines:code&#x27; metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Average        : 6.64356984479</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum        : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum        : 201</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Total          : 23970.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Distribution   : 3608 regions in total (including 0 suppressed)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Metric value : Ratio : R-sum : Number of regions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               0-1 : 0.088 : 0.088 :  319   |||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 2 : 0.320 : 0.409 : 1155   ||||||||||||||||||||||||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 3 : 0.108 : 0.517 :  390   |||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 4 : 0.081 : 0.598 :  294   ||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 5 : 0.080 : 0.678 :  290   ||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 6 : 0.061 : 0.739 :  220   ||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 7 : 0.049 : 0.788 :  176   |||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 8 : 0.030 : 0.818 :  109   |||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 9 : 0.025 : 0.843 :   89   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             10-11 : 0.032 : 0.876 :  117   |||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             12-13 : 0.020 : 0.895 :   71   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                14 : 0.012 : 0.907 :   43   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             15-16 : 0.017 : 0.924 :   61   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             17-19 : 0.015 : 0.939 :   55   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             20-22 : 0.013 : 0.952 :   46   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             23-26 : 0.011 : 0.963 :   40   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             27-30 : 0.009 : 0.972 :   33   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             31-39 : 0.009 : 0.981 :   33   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             40-65 : 0.009 : 0.991 :   34   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            66-201 : 0.009 : 1.000 :   33   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Directory content:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Directory      : .</span></div></div></div></div></div><p>The same command with <strong>--db-file-prev</strong> option enables comparision and change trends are shown in [] brackets:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> view --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db --db-file-prev</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_52_0/metrixpp.db</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Overall metrics for &#x27;std.code.complexity:cyclomatic&#x27; metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Average        : 0.652902698283 [+0.00362138411453]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum        : 0 [+0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum        : 37 [+1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Total          : 1597.0 [+16.0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Distribution   : 2446 [+11] regions in total (including 0 [+0] suppressed)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Metric value : Ratio : R-sum : Number of regions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 0 : 0.771 : 0.771 : 1886 [+5   ]   |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 1 : 0.110 : 0.881 :  268 [+4   ]   |||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 2 : 0.044 : 0.925 :  108 [+0   ]   ||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 3 : 0.025 : 0.949 :   60 [+2   ]   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 4 : 0.016 : 0.966 :   40 [-1   ]   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 5 : 0.007 : 0.973 :   18 [-1   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 6 : 0.006 : 0.979 :   14 [+1   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 7 : 0.004 : 0.983 :   10 [+1   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 8 : 0.003 : 0.986 :    8 [+1   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 9 : 0.002 : 0.988 :    4 [+0   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                10 : 0.004 : 0.991 :    9 [-2   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                11 : 0.002 : 0.993 :    4 [+1   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                12 : 0.001 : 0.994 :    3 [+0   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                13 : 0.001 : 0.995 :    2 [+0   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                14 : 0.001 : 0.996 :    2 [+0   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             15-16 : 0.001 : 0.997 :    3 [-1   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             17-18 : 0.001 : 0.998 :    3 [+1   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                20 : 0.000 : 0.999 :    1 [+0   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             23-25 : 0.001 : 1.000 :    2 [+0   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             36-37 : 0.000 : 1.000 :    1 [+0   ]   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Overall metrics for &#x27;std.code.lines:code&#x27; metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Average        : 6.64356984479 [+0.012181964309]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum        : 0 [+0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum        : 201 [+4]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Total          : 23970.0 [+223.0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Distribution   : 3608 [+27] regions in total (including 0 [+0] suppressed)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Metric value : Ratio : R-sum : Number of regions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               0-1 : 0.088 : 0.088 :  319 [+3   ]   |||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 2 : 0.320 : 0.409 : 1155 [+9   ]   ||||||||||||||||||||||||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 3 : 0.108 : 0.517 :  390 [-3   ]   |||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 4 : 0.081 : 0.598 :  294 [+7   ]   ||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 5 : 0.080 : 0.678 :  290 [+7   ]   ||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 6 : 0.061 : 0.739 :  220 [-1   ]   ||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 7 : 0.049 : 0.788 :  176 [-2   ]   |||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 8 : 0.030 : 0.818 :  109 [-1   ]   |||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 9 : 0.025 : 0.843 :   89 [+4   ]   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             10-11 : 0.032 : 0.876 :  117 [+9   ]   |||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             12-13 : 0.020 : 0.895 :   71 [-9   ]   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                14 : 0.012 : 0.907 :   43 [+0   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             15-16 : 0.017 : 0.924 :   61 [+0   ]   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             17-19 : 0.015 : 0.939 :   55 [+6   ]   ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             20-22 : 0.013 : 0.952 :   46 [-3   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             23-26 : 0.011 : 0.963 :   40 [+2   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             27-30 : 0.009 : 0.972 :   33 [-3   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             31-39 : 0.009 : 0.981 :   33 [+0   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             40-65 : 0.009 : 0.991 :   34 [+1   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            66-201 : 0.009 : 1.000 :   33 [+1   ]   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Directory content:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Directory      : .</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="reducing-analysis-scope"></a>Reducing analysis scope<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reducing-analysis-scope" title="Direct link to heading">#</a></h3><p>There are two ways to reduce the analysis scope for the view tool. The first is to enumerate paths of interest. For example, the following command reduces scope to the &#x27;allocators&#x27; sub-directory within the processed code.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> view --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db -- ./boost/interprocess/allocators</span></div></div></div></div></div><p>The second is to specify the <strong>--scope-mode option</strong>, which instructs the tool to process only modified and/or new files/regions. For example, to view the summary metrics for all modified and new regions:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> view --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db  --db-file-prev</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_52_0/metrixpp.db --scope-mode</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">touched</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Overall metrics for &#x27;std.code.complexity:cyclomatic&#x27; metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Average        : 1.84924623116 [-0.0230941943761]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum        : 0 [+0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum        : 37 [+1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Total          : 368.0 [+16.0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Distribution   : 199 [+11] regions in total (including 0 [+0] suppressed)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Metric value : Ratio : R-sum : Number of regions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 0 : 0.608 : 0.608 : 121 [+5  ] |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 1 : 0.131 : 0.739 :  26 [+4  ] |||||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 2 : 0.070 : 0.809 :  14 [+0  ] |||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 3 : 0.060 : 0.869 :  12 [+2  ] ||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 4 : 0.015 : 0.884 :   3 [-1  ] ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 5 : 0.015 : 0.899 :   3 [-1  ] ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 6 : 0.005 : 0.905 :   1 [+1  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 7 : 0.015 : 0.920 :   3 [+1  ] ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 8 : 0.015 : 0.935 :   3 [+1  ] ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 9 : 0.010 : 0.945 :   2 [+0  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                10 : 0.010 : 0.955 :   2 [-2  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                11 : 0.005 : 0.960 :   1 [+1  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                12 : 0.005 : 0.965 :   1 [+0  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                13 : 0.005 : 0.970 :   1 [+0  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                16 : 0.005 : 0.975 :   1 [-1  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                17 : 0.005 : 0.980 :   1 [+0  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                18 : 0.010 : 0.990 :   2 [+1  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                20 : 0.005 : 0.995 :   1 [+0  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             36-37 : 0.005 : 1.000 :   1 [+0  ] |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Overall metrics for &#x27;std.code.lines:code&#x27; metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Average        : 15.9645390071 [-0.815853149771]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Minimum        : 0 [+0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Maximum        : 201 [+6]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Total          : 4502.0 [+223.0]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Distribution   : 282 [+27] regions in total (including 0 [+0] suppressed)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Metric value : Ratio : R-sum : Number of regions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               0-1 : 0.053 : 0.053 :  15 [+3  ] |||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 2 : 0.124 : 0.177 :  35 [+9  ] ||||||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 3 : 0.053 : 0.230 :  15 [-3  ] |||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 4 : 0.060 : 0.291 :  17 [+7  ] ||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 5 : 0.089 : 0.379 :  25 [+7  ] |||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 6 : 0.060 : 0.440 :  17 [-1  ] ||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 7 : 0.050 : 0.489 :  14 [-2  ] |||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">               8-9 : 0.074 : 0.564 :  21 [+3  ] |||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                10 : 0.035 : 0.599 :  10 [+5  ] ||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                11 : 0.082 : 0.681 :  23 [+4  ] ||||||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             12-13 : 0.043 : 0.723 :  12 [-9  ] ||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             14-15 : 0.039 : 0.762 :  11 [-1  ] ||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             16-18 : 0.028 : 0.791 :   8 [+4  ] |||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             19-22 : 0.039 : 0.830 :  11 [+0  ] ||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             23-26 : 0.039 : 0.869 :  11 [+2  ] ||||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             27-32 : 0.028 : 0.897 :   8 [-3  ] |||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             38-50 : 0.025 : 0.922 :   7 [+0  ] ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             51-69 : 0.025 : 0.947 :   7 [+1  ] ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            71-100 : 0.032 : 0.979 :   9 [+2  ] |||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           101-201 : 0.021 : 1.000 :   6 [-1  ] ||</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Directory content:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Directory      : .</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="detailed-metrics-per-fileregion"></a>Detailed metrics per file/region<a aria-hidden="true" tabindex="-1" class="hash-link" href="#detailed-metrics-per-fileregion" title="Direct link to heading">#</a></h3><p>The same view tool can print detailed metrics per file and per every region in the specified file. In order to get detailed metrics, enumerate files of interest after &#x27;--&#x27;. For example:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> view --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db --db-file-prev</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_52_0/metrixpp.db -- ./boost/interprocess/detail/managed_open_or_create_impl.hpp</span></div></div></div></div></div><p>produces output similar to this (truncated to make the page shorter):</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/detail/managed_open_or_create_impl.hpp:302: info: Metrics per &#x27;priv_open_or_create&#x27; region</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : priv_open_or_create</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region type    : function</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Offsets        : 8314-14526</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Line numbers   : 301-467</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.complexity:cyclomatic: 37 [+1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.lines:code: 148 [+4]</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="more-about-the-viewer"></a>More about the viewer<a aria-hidden="true" tabindex="-1" class="hash-link" href="#more-about-the-viewer" title="Direct link to heading">#</a></h3><p>The &#x27;view&#x27; command has got an option to alter the output format. It is possible to get the same data in xml or python dictionary formats. This can be particularly useful for integration of the tool with other applications. For example, an editor may re-collect and show context based metrics when a file is saved.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> view --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db --format</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">xml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Check other options of the view tool by executing:</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> view --help</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="apply-thresholds"></a>Apply thresholds<a aria-hidden="true" tabindex="-1" class="hash-link" href="#apply-thresholds" title="Direct link to heading">#</a></h2><p>The viewer shows (above) that there are functions with quite large cyclomatic complexities. Growth of this metric can be considered as negative trend. The Metrix++ &#x27;limit&#x27; tool offers the capability to manage control over trends by applying limits to metric values. Exceeded limits could be raised as alarms by quality management and control.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="hotspots"></a>Hotspots<a aria-hidden="true" tabindex="-1" class="hash-link" href="#hotspots" title="Direct link to heading">#</a></h3><p>The hotspots mode of the limit tool helps to identify top files/regions exceeding a metric threshold. Let&#x27;s identify the top 3 functions in the boost interprocess library, which exceed a limit of 15 points of cyclomatic complexity:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> limit --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db --max-limit</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">std.code.complexity:cyclomatic:15 --hotspots</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/detail/managed_open_or_create_impl.hpp:302: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;priv_open_or_create&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : priv_open_or_create</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 37</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/streams/vectorstream.hpp:284: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;seekoff&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : seekoff</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 25</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/streams/bufferstream.hpp:174: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;seekoff&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : seekoff</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 23</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="controlling-trends"></a>Controlling trends<a aria-hidden="true" tabindex="-1" class="hash-link" href="#controlling-trends" title="Direct link to heading">#</a></h3><p>The exit code of the &#x27;limit&#x27; tool is equal to the number of warnings printed. This supports use of the tool as a static analysis tool during the software build process. In this case, a non-zero exit code means that there are violations to the agreed standards and it may fail the build. The same command without --hotspots option will print all regions/files exceeding the specified limit:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> limit --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db --max-limit</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">std.code.complexity:cyclomatic:15</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="modes-to-exclude-old-code-from-the-considiration"></a>Modes to exclude old code from the considiration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#modes-to-exclude-old-code-from-the-considiration" title="Direct link to heading">#</a></h4><p>However, it is likely there are many warnings printed in this mode, especially if very old or legacy code is profiled against new metrics and coding rules. Although all warnings can be removed by re-factoring as a big task force activity, it is where many tools are rejected, because it is difficult to justify the initial cost of applying and integrating them. The Metrix++ &#x27;limit&#x27; tool has got an option --warn-mode, which helps to overcome this problem.</p><p><strong>--warn-mode=touched</strong> encourages re-factoring only for new and modified regions. It enables continuous refactoring. It does not matter how late the rule is applied or the coding standard is modified. It is possible to do it anytime with zero initial investment. For example, applying it to the boost interprocess library for a changes between 1.52 and 1.54 versions results in only 6 warnings:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> limit --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db --db-file-prev</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_52_0/metrixpp.db --max-limit</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">std.code.complexity:cyclomatic:15 --warn-mode</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">touched</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/detail/managed_open_or_create_impl.hpp:302: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;priv_open_or_create&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : priv_open_or_create</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 37</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : +1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/ipc/message_queue.hpp:375: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;insert_at&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : insert_at</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/mapped_region.hpp:575: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;mapped_region&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : mapped_region</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 18</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : +2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/mem_algo/detail/mem_algo_common.hpp:452: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;priv_allocate_many&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : priv_allocate_many</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 20</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/mem_algo/rbtree_best_fit.hpp:787: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;priv_expand_both_sides&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : priv_expand_both_sides</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 17</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/sync/windows/named_sync.hpp:98: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;open_or_create&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : open_or_create</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 18</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div></div></div></div></div><p>If it is challenging or of little benefit to refactor everything touched, --warn-mode=trends simplifies the control over modified regions and only makes sure that there are no regressions in modified code. In other words, a warning is printed about a modified region/file only if a metric exceeds the specified limit and the value of the metric has got a negative trend due to the modification. It is possible to apply it anytime with zero initial investment and almost zero on-going investment around old code. For example, applying it to the boost interprocess library for a changes between 1.52 and 1.54 versions results in only 2 warnings:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> limit --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db --db-file-prev</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_52_0/metrixpp.db --max-limit</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">std.code.complexity:cyclomatic:15 --warn-mode</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">trend</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/detail/managed_open_or_create_impl.hpp:302: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;priv_open_or_create&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : priv_open_or_create</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 37</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : +1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/mapped_region.hpp:575: warning: Metric &#x27;std.code.complexity:cyclomatic&#x27; for region &#x27;mapped_region&#x27; exceeds the limit.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric name    : std.code.complexity:cyclomatic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Region name    : mapped_region</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric value   : 18</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Modified       : True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Change trend   : +2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Limit          : 15.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Suppressed     : False</span></div></div></div></div></div><p><strong>--warn-mode=new</strong> ignores existing code and ensures that warnings are only about new code. For example, applying it to the boost interprocess library for a changes between 1.52 and 1.54 versions results in 0 warnings, so it shows that the new code is totally compliant with the standard required in the example.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> limit --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db --db-file-prev</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_52_0/metrixpp.db --max-limit</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">std.code.complexity:cyclomatic:15 --warn-mode</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">new</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="suppressions"></a>Suppressions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#suppressions" title="Direct link to heading">#</a></h4><p>It is possible to suppress warnings. Suppressions are collected from comments in code and used by the &#x27;limit&#x27; tool to filter out suppressed warnings. It supports fine grained control over false-positive warnings, if there are any.</p><p>In order to suppress a warning:</p><ul><li>per region metrics: put the metrix++ instruction in the comments before the region, for example:</li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// This function returns string typed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// representation of a name of a color,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// requested by color&#x27;s id</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// metrix++: suppress std.code.complexity:cyclomatic</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">string </span><span class="token function" style="color:rgb(130, 170, 255)">getColorName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> color_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">color_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">case</span><span class="token plain"> COLOR_RED</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;red&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">case</span><span class="token plain"> COLOR_GREEN</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;green&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">case</span><span class="token plain"> COLOR_BLUE</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;blue&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* and so on */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><ul><li>per file metrics: put the metrix++ instruction in the comments at the beginning of a file, for example:</li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// This file does processing of colors and brushes</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// However, it is too long and big file, and there is no time</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// to split it into multiple file, so shut up the metrix++ warnings:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// metrix++: suppress std.general:size</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">std</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">string </span><span class="token function" style="color:rgb(130, 170, 255)">getColorName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> color_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span></div></div></div></div></div><ul><li>activate collection of suppressions:</li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> collect --std.suppress</span></div></div></div></div></div><ul><li>run the &#x27;limit&#x27; tool WITHOUT --disable-suppressions option:</li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> limit </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="other-applications"></a>Other applications<a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-applications" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="checking-data-file-properties"></a>Checking data file properties<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checking-data-file-properties" title="Direct link to heading">#</a></h3><p>The Metrix++ &#x27;info&#x27; tool is helpful to check the properties of a data file, like the settings used to write it, collected metrics and files processed. For example:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> python </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/metrix++.py&quot;</span><span class="token plain"> info --db-file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">boost_1_54_0/metrixpp.db</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-boost_1_54_0/metrixpp.db:: codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    version        : 1.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.complexity:version: 1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.cpp:version: 1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.cpp:files: *.c,*.cc,*.cpp,*.cxx,*.h,*.hh,*.hpp,*.hxx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.cs:version: 1.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.cs:files: *.cs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.java:version: 1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.java:files: *.java</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.lines:version: 1.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">test_workflow.db:: info: Collected metrics:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.complexity:cyclomatic: </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    std.code.lines:code: </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">:: info: Processed files and checksums:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ./interprocess/allocators/detail/node_pool.hpp: 0xb099a7c3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ./interprocess/allocators/detail/node_tools.hpp: 0xaaf5044d</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ./interprocess/anonymous_shared_memory.hpp: 0x2bf06cb0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ./interprocess/containers/allocation_type.hpp: 0x8e95cda0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ./interprocess/containers/containers_fwd.hpp: 0xa4d0d9f7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ./interprocess/containers/deque.hpp: 0x6dbb77af</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ./interprocess/containers/flat_map.hpp: 0x6750338c</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="exporting-results"></a>Exporting results<a aria-hidden="true" tabindex="-1" class="hash-link" href="#exporting-results" title="Direct link to heading">#</a></h3><p>The Metrix++ &#x27;export&#x27; tool exports data files to csv formated files. For example:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; python &quot;/path/to/metrix++.py&quot; export --db-file=boost_1_54_0/metrixpp.db &gt; boost_1_54_0/metrixpp.csv</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">file,region,type,modified,line start,line end,std.code.complexity:cyclomatic,std.code.lines:code</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/allocators/detail/node_pool.hpp,__global__,global,,1,110,,0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/allocators/detail/node_pool.hpp,boost,namespace,,33,105,,2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/allocators/detail/node_pool.hpp,interprocess,namespace,,34,104,,2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/allocators/detail/node_pool.hpp,ipcdetail,namespace,,35,103,,4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./interprocess/allocators/detail/node_pool.hpp,SegmentManager,class,,39,72,,16</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div></div></div><p>Files with csv format can be opened by applications, like Microsoft Office Excel, with advanced analysis capabilities. For example, to draw this distribution graph:</p><p><img src="./../src/img/piechart.png" alt="Distribution graph"></p><p>It is not recommended to use the export tool to implement custom post-analysis Metrix++ extensions. The main reason is that granted backward compatibility support for csv columns is not granted. Another main reason is that exporting is relatively slow process. It is recommended to use Metrix++ extensions API instead.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://metrixplusplus.github.io/docs/04-u-workflow.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/metrixplusplus/docs/03-u-getting-started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Getting started</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/metrixplusplus/docs/05-u-extending-tool"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Extending the tool »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#collect-data" class="table-of-contents__link">Collect data</a></li><li><a href="#view-data" class="table-of-contents__link">View data</a><ul><li><a href="#summary-metrics-and-distribution-tablesgraphs" class="table-of-contents__link">Summary metrics and distribution tables/graphs</a></li><li><a href="#reducing-analysis-scope" class="table-of-contents__link">Reducing analysis scope</a></li><li><a href="#detailed-metrics-per-fileregion" class="table-of-contents__link">Detailed metrics per file/region</a></li><li><a href="#more-about-the-viewer" class="table-of-contents__link">More about the viewer</a></li></ul></li><li><a href="#apply-thresholds" class="table-of-contents__link">Apply thresholds</a><ul><li><a href="#hotspots" class="table-of-contents__link">Hotspots</a></li><li><a href="#controlling-trends" class="table-of-contents__link">Controlling trends</a></li></ul></li><li><a href="#other-applications" class="table-of-contents__link">Other applications</a><ul><li><a href="#checking-data-file-properties" class="table-of-contents__link">Checking data file properties</a></li><li><a href="#exporting-results" class="table-of-contents__link">Exporting results</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metrixplusplus/docs/01-u-overview">Users Manual</a></li><li class="footer__item"><a class="footer__link-item" href="/metrixplusplus/docs/01-d-file">Developers Manual</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/metrixplusplus/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://github.com/metrixplusplus/metrixplusplus/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open issues</a></li><li class="footer__item"><a href="https://github.com/metrixplusplus/metrixplusplus/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Changelog</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Feedback</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/metrixplusplus/metrixplusplus/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ask question</a></li><li class="footer__item"><a href="https://github.com/metrixplusplus/metrixplusplus/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report defect</a></li><li class="footer__item"><a href="https://github.com/metrixplusplus/metrixplusplus/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feature request</a></li></ul></div></div><div class="text--center"><div>Copyright © 2009 - 2022, Metrix++ Project.</div></div></div></footer></div>
<script src="/metrixplusplus/styles.ea187cca.js"></script>
<script src="/metrixplusplus/runtime~main.ba0657b0.js"></script>
<script src="/metrixplusplus/main.32ed0d02.js"></script>
<script src="/metrixplusplus/1.b641d0ab.js"></script>
<script src="/metrixplusplus/2.ac5ff824.js"></script>
<script src="/metrixplusplus/15.69d6c65e.js"></script>
<script src="/metrixplusplus/16.7644ee7d.js"></script>
<script src="/metrixplusplus/7a337f41.a31beb1c.js"></script>
<script src="/metrixplusplus/17896441.2675a3cf.js"></script>
<script src="/metrixplusplus/eb9c1144.271b9774.js"></script>
</body>
</html>